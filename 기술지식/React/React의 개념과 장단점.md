# React

### 1-1 React.js(리액트)란?
'페이스북'에서 제공해주는 프론트엔드 라이브러리이며, 자바스크립트를 기반으로 사용자 인터페이스를 만들기 위해 사용된다. 리액트는 자바스크립트에 HTML을 포함하는 JSX라는 간단한 문법과 단방향 데이터 바인딩(One-way Data Binding)을 사용하고 있고, 가상돔(Virtual DOM)이라는 개념을 사용하여 웹 어플리케이션의 퍼포먼스를 최적화한 라이브러리이다.

웹 페이지를 만들기에는 HTML, CSS로도 충분하지만 이 둘만으로는 동적인 데이터를 UI에 결합시키기에는 적합하지 않다. 따라서 리액트를 사용하여 사용자와 상호작용할 수 있는 UI를 만들수 있기에 리액트를 사용한다.

> Angular와 React의 차이점<br>
> Angular는 뷰레이어를 포함한 많은 기능을 갖춘 완전한 프레임워크지만 React는 웹을 만드는데 반드시 필요한 도구들이 기본적으로 제공되지 않는 라이브러리이기 때문에 기타 추가적인 라이브러리들을 사용해야 한다. 예를들어 페이지 전환 기능을 제공하지 않기 때문에 react-router와 같은 추가적인 라이브러리를 사용해야 한다.

### 1-2 리액트의 특징

#### _가상돔_
  리액트는 가상 돔을 사용하여 웹 어플리케이션의 성능을 극대화 시킨다. 가상 돔을 이해하기 위해서는 HTML과 CSS가 렌더링 되는 과정을 이해할 필요가 있다.
  
  웹 브라우저가 네트워크를 통해 HTML을 전달 받으면 브라우저의 렌더링 엔진은 HTML을 파싱하고 돔 노드(DOM Node)로 이루어진 트리를 만든다. 또한 CSS 파일과 HTML의 요소들의 인라인 스타일을 파싱하여 스타일 정보를 가진 스타일 트리도 생성한다.
  
  랜더 트리로 생성된 모든 노드들은 attach 함수를 가지고 있는데, Attachment 과정에서 메소드들이 호출되며, 해당 메소드는 스타일 정보를 계산하고 결과값을 객체 형태로 반환하게 된다.
  
  이 계산 과정은 모두 동기적(Synchronous)으로 동작하게 되며, 만약 렌더 트리에 새로운 노드가 추가된다면 해당 노드의 attach 메소드가 싱행되어 계산 과정을 거치게 된다. 이 과정후에는 레이아웃 과정을 통해 브라우저가 렌더 트리의 각 노드들에 좌표를 부여하고 어디에 어떻게 표시되는지를 결정하게 된다.
  
  마지막으로 브라우저는 페인팅 과정을 통해 각 노드들에 paint 함수를 호출하여 렌더링된 요소들에 색상을 입히게 된다.
  
  위의 과정을 통해 페이지가 보여지게 되는데 DOM을 조작하게 되면 위의 과정을 다시 진행되는데 이것을 리플로우(Reflow)라 하며, 페인팅 과정이 다시 진행되는 것을 리페인트(Repaint)라 한다. 이러한 과정들이 많이 반복되면 될수록 웹 서비스의 성능이 저하되는 문제가 발생하게 된다.
  
  이를 해결하기 위해 리액트에서는 동일한 모양의 DOM을 메모리상에 만들어두고 조작이 발생하면 메모리상에 생성한 가상 돔에 모든 연산을 수행한 후, 실제 DOM을 갱신하는 방식으로 리플로우와 리페인트 연산을 최소화하였다.
  
  이렇게 리액트에서는 가상 돔을 사용하여 DOM이 자주 갱신되는 싱글 페이지 애플리케이션의 리플로우와 리페인트를 최소화함으로써 성능을 최적화를 한다.
  
#### _단방향 데이터 바인딩_
  단방향 데이터 바인딩을 설명하기 전에 양방향 데이터 바인딩을 살펴보면, 양방향 데이터 바인딩은 사용자 UI의 데이터 변경을 감시하는 Watcher와 자바스크립트 데이터의 변경을 감시하는 Watcher가 UI와 자바스크립트 데이터를 자동으로 동기화 시켜주는 방식이다. 이를 통해 프로그래머는 자바스크립트내에 데이터 변경과 사용자 UI에 데이터 변경에 관한 동기화를 신경쓰지 않고 프로그램을 작성할 수 있다.
  
  하지만 하나의 데이터 동기화에 두개의 Watcher가 사용되고, 데이터량이 많아지게 된다면 이 데이터의 동기화를 위한 Watcher가 많아지르모, 성능 저하가 발생할 수 있다.
  
  위의 문제 때문에 리액트에서는 다른 프레임워크와 달리 단방향 데이터 바인딩을 사용한다. 단방향 데이터 바인딩은 단 하나의 Watcher가 자바스크립트의 데이터 갱신을 감지하여 사용자의 UI 데이터를 갱신한다. 사용자가 UI를 통해 자바스크립트의 데이터를 갱신할때는 이벤트를 통해 갱신하게 된다. 이처럼 단방향 데이터 바인딩은 하나의 Watcher를 사용하기 때문에 양방향 데이터 바인딩에서 일어날 수 있는 성능 저하 이슈를 해결하고 더 확실하게 데이터를 추적할 수 있게 해준다.
  
#### _JSX_

  리액트에서는 JSX라는 독특한 문법을 가지고 있다. JSX는 자바스크립트와 HTML을 동시에 사용하며, HTML에 자바스크립트의 변수들을 바로 사용할 수 있는 일종의 템플릿 언어이다.
  
  ```javascript
  const App = () => {
    const hello = 'Hello World';
    return <div>{hello}</div>;
   };
  ```
  
  리액트는 위와 같이 자바스크립트에서 HTML 태그를 사용할 수 있으며 자바스크립트 변수를 HTML 태그에서 바로 호출하여 사용할 수 있다. 자바스크립트 개발자들에게 이 JSX가 굉장히 이상한 문법이지만, 다른 언어들을 잠깐 보면, 조금 더 쉽게 이해할 수 있다.
  
#### 선언형 프로그래밍

  프로그래밍에는 명령형 프로그래밍과 선언형 프로그래밍으로 구별할 수 있습니다. 명령형 프로그래밍은 프로그래밍을 할 때 How에 집중하는 것을 뜻하며 선언형 프로그래밍은 What에 집중하여 코딩하는 것을 뜻한다.
  
```javascript
// 명령형 프로그래밍
  const double = (arr) => {
       let results = [];
       for(let i = 0; i < arr.length; i++){
        results.push(arr[i] * 2);
       }
     return results;
   }
  
```
  
```javascript
  const App = () => {
    const hello = 'Hello World';
    return <div>{hello}</div>;
   };
 ```

  
> 파싱 : 어떤 페이지(문서, HTML 등)에서 내가 원하는 데이터를 특정 패턴이나 순서로 추출해 가공하는 것을 뜻함.<br>
> 


###### 출처
>https://pp-ppi.tistory.com/41 <br>
>https://dev-yakuza.posstree.com/ko/react/create-react-app/react/<br>
>https://velog.io/@sunaaank/data-binding
